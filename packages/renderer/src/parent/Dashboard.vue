<script setup>
import StationLogo from "../components/StationLogo.vue";
import SideBarControls from "../pages/dashboard/SideBarControls.vue";
import { ref } from "vue";
import apps from "../backups/apps.json";
import { mainStore } from "../stores/mainStore";

const store = mainStore();
const showSupportDropDown = ref(false);
const supports = ref(["Share Screen", "Video History"]);

//hard coded api call result
if (store.apps.length <= 0) {
  store.setApps(apps.data);
}
</script>

<template>
  <img
    id="background-image"
    src="https://touchscreen.gray.tv/modules/grayTouchScreenSetup/uploads/KWCH/b_87_bg_image.jpg"
    alt="background image"
  />
  <div class="dashboardMain">
    <div class="sidebar">
      <station-logo></station-logo>

      <side-bar-controls></side-bar-controls>
    </div>
    <div class="vertical-divider"></div>
    <div class="appView">
      <div class="headerSection">
        <h1 class="dashboardTitle">GDM Touchscreen Dashboard</h1>
        <button
          @click="showSupportDropDown = !showSupportDropDown"
          class="btn dropdown support"
          :class="{ showDropDown: showSupportDropDown }"
        >
          <svg
            class="supportIcon"
            version="1.1"
            id="Layer_1"
            x="0px"
            y="0px"
            viewBox="0 0 288 288"
            style="enable-background: new 0 0 288 288"
          >
            <path
              class="st0"
              fill="currentColor"
              d="M206.43,163.25c0-3.95,3.05-7.17,6.92-7.47c-0.2-1.31-0.47-2.61-0.78-3.89c-3.69,1.2-7.73-0.62-9.24-4.27
    c-1.5-3.65,0.09-7.79,3.55-9.54c-0.72-1.19-1.5-2.33-2.32-3.45c-2.94,2.52-7.36,2.42-10.15-0.37c-2.79-2.79-2.89-7.2-0.37-10.15
    c-1.07-0.79-2.17-1.53-3.31-2.23c-1.76,3.46-5.91,5.03-9.55,3.52c-3.64-1.52-5.45-5.57-4.23-9.25c-1.33-0.32-2.68-0.6-4.04-0.81
    c-0.29,3.87-3.52,6.92-7.47,6.92c-3.95,0-7.17-3.05-7.47-6.92c-1.31,0.2-2.61,0.47-3.89,0.78c1.2,3.69-0.62,7.73-4.27,9.24
    c-3.65,1.5-7.79-0.09-9.54-3.55c-1.19,0.72-2.33,1.5-3.45,2.32c2.52,2.94,2.42,7.36-0.37,10.15c-2.79,2.79-7.2,2.89-10.15,0.37
    c-0.79,1.07-1.53,2.17-2.23,3.31c3.46,1.76,5.03,5.91,3.52,9.55c-1.52,3.64-5.57,5.45-9.25,4.23c-0.32,1.33-0.6,2.68-0.81,4.04
    c3.87,0.29,6.92,3.52,6.92,7.47c0,3.95-3.05,7.17-6.92,7.47c0.2,1.31,0.47,2.61,0.78,3.89c3.69-1.2,7.73,0.62,9.24,4.27
    c1.5,3.65-0.09,7.79-3.55,9.54c0.72,1.19,1.5,2.33,2.32,3.45c2.94-2.52,7.36-2.42,10.15,0.37c2.79,2.79,2.89,7.2,0.37,10.15
    c1.07,0.79,2.17,1.53,3.31,2.23c1.76-3.46,5.91-5.04,9.55-3.52c3.64,1.52,5.45,5.57,4.23,9.25c1.33,0.32,2.68,0.6,4.04,0.81
    c0.29-3.87,3.52-6.92,7.47-6.92c3.95,0,7.17,3.05,7.47,6.92c1.31-0.2,2.61-0.47,3.89-0.78c-1.2-3.69,0.62-7.73,4.27-9.24
    c3.65-1.5,7.79,0.09,9.54,3.55c1.19-0.72,2.33-1.5,3.45-2.32c-2.52-2.94-2.42-7.36,0.37-10.15c2.79-2.79,7.2-2.89,10.15-0.37
    c0.79-1.07,1.53-2.17,2.23-3.31c-3.46-1.76-5.03-5.91-3.52-9.55c1.52-3.64,5.57-5.45,9.25-4.23c0.32-1.33,0.6-2.68,0.81-4.04
    C209.48,170.42,206.43,167.19,206.43,163.25z M157.1,191.77c-9.7-2.83-17.34-10.48-20.17-20.17c-0.43-1.46,0.72-2.92,2.24-2.92
    h18.53c1.28,0,2.32,1.04,2.32,2.32v18.53C160.01,191.05,158.56,192.2,157.1,191.77z M157.69,157.81h-18.53
    c-1.52,0-2.67-1.45-2.24-2.92c2.83-9.7,10.48-17.34,20.17-20.17c1.46-0.43,2.92,0.72,2.92,2.24v18.53
    C160.01,156.77,158.97,157.81,157.69,157.81z M170.89,189.53V171c0-1.28,1.04-2.32,2.32-2.32h18.53c1.52,0,2.67,1.45,2.24,2.92
    c-2.83,9.7-10.48,17.34-20.17,20.17C172.34,192.2,170.89,191.05,170.89,189.53z M170.89,155.49v-18.53c0-1.52,1.45-2.67,2.92-2.24
    c9.7,2.83,17.34,10.48,20.17,20.17c0.43,1.46-0.72,2.92-2.24,2.92h-18.53C171.93,157.81,170.89,156.77,170.89,155.49z"
            />
            <path
              fill="currentColor"
              class="st0"
              d="M130.77,110.08c0.23-2.49,2.34-4.34,4.8-4.3c-0.05-0.84-0.14-1.67-0.26-2.49c-2.39,0.54-4.84-0.84-5.57-3.23
    c-0.73-2.39,0.51-4.91,2.8-5.8c-0.39-0.79-0.81-1.56-1.26-2.31c-2,1.42-4.78,1.09-6.37-0.82c-1.59-1.92-1.4-4.71,0.36-6.42
    c-0.63-0.56-1.28-1.09-1.96-1.6c-1.31,2.08-4.02,2.83-6.22,1.66c-2.21-1.17-3.11-3.83-2.13-6.08c-0.82-0.28-1.65-0.54-2.5-0.75
    c-0.41,2.42-2.62,4.16-5.11,3.93s-4.34-2.34-4.3-4.8c-0.84,0.05-1.67,0.14-2.49,0.26c0.54,2.39-0.84,4.84-3.23,5.57
    c-2.39,0.73-4.91-0.51-5.8-2.8c-0.79,0.39-1.56,0.81-2.31,1.26c1.42,2,1.09,4.78-0.82,6.37c-1.92,1.59-4.71,1.4-6.42-0.36
    c-0.56,0.63-1.09,1.28-1.6,1.96c2.08,1.31,2.83,4.02,1.66,6.22c-1.17,2.21-3.83,3.11-6.08,2.13c-0.28,0.82-0.54,1.65-0.75,2.5
    c2.42,0.41,4.16,2.62,3.93,5.11c-0.23,2.49-2.34,4.34-4.8,4.3c0.05,0.84,0.14,1.67,0.26,2.49c2.39-0.54,4.84,0.84,5.57,3.23
    c0.73,2.39-0.51,4.91-2.8,5.8c0.39,0.79,0.81,1.56,1.26,2.31c2-1.42,4.78-1.09,6.37,0.82c1.59,1.92,1.4,4.71-0.36,6.42
    c0.63,0.56,1.28,1.09,1.96,1.6c1.31-2.08,4.02-2.83,6.22-1.66c2.21,1.17,3.11,3.83,2.13,6.08c0.82,0.28,1.65,0.54,2.5,0.75
    c0.41-2.42,2.62-4.16,5.11-3.93s4.34,2.34,4.3,4.8c0.84-0.05,1.67-0.14,2.49-0.26c-0.54-2.39,0.84-4.84,3.23-5.57
    c2.39-0.73,4.91,0.51,5.8,2.8c0.79-0.39,1.56-0.81,2.31-1.26c-1.42-2-1.09-4.78,0.82-6.37c1.92-1.59,4.71-1.4,6.42,0.36
    c0.56-0.63,1.09-1.28,1.6-1.96c-2.08-1.31-2.83-4.02-1.66-6.22c1.17-2.21,3.83-3.11,6.08-2.13c0.28-0.82,0.54-1.65,0.75-2.5
    C132.27,114.78,130.54,112.57,130.77,110.08z M98.02,125.18c-5.94-2.35-10.31-7.61-11.53-13.89c-0.18-0.95,0.62-1.8,1.58-1.71
    l11.68,1.08c0.81,0.07,1.4,0.79,1.33,1.6l-1.08,11.68C99.9,124.89,98.91,125.53,98.02,125.18z M100.38,103.81l-11.68-1.08
    c-0.96-0.09-1.6-1.07-1.24-1.97c2.35-5.94,7.61-10.31,13.89-11.53c0.95-0.18,1.8,0.62,1.71,1.58l-1.08,11.68
    C101.9,103.29,101.18,103.88,100.38,103.81z M106.84,124.57l1.08-11.68c0.07-0.81,0.79-1.4,1.6-1.33l11.68,1.08
    c0.96,0.09,1.6,1.07,1.24,1.97c-2.35,5.94-7.61,10.31-13.89,11.53C107.6,126.33,106.75,125.53,106.84,124.57z M108.82,103.12
    l1.08-11.68c0.09-0.96,1.07-1.6,1.97-1.24c5.94,2.35,10.31,7.61,11.53,13.89c0.18,0.95-0.62,1.8-1.58,1.71l-11.68-1.08
    C109.34,104.64,108.75,103.92,108.82,103.12z"
            />
            <path
              fill="currentColor"
              class="st0"
              d="M111.51,162.4c0.14-1.55,1.46-2.7,2.98-2.67c-0.03-0.52-0.09-1.04-0.16-1.55c-1.49,0.34-3.01-0.52-3.46-2.01
    c-0.46-1.48,0.32-3.05,1.74-3.61c-0.24-0.49-0.5-0.97-0.78-1.43c-1.24,0.88-2.97,0.68-3.96-0.51c-0.99-1.19-0.87-2.93,0.22-3.99
    c-0.39-0.35-0.8-0.68-1.22-0.99c-0.81,1.29-2.5,1.76-3.87,1.03c-1.37-0.73-1.93-2.38-1.32-3.78c-0.51-0.18-1.03-0.33-1.55-0.47
    c-0.26,1.51-1.63,2.58-3.18,2.44c-1.55-0.14-2.7-1.46-2.67-2.98c-0.52,0.03-1.04,0.09-1.55,0.16c0.34,1.49-0.52,3.01-2.01,3.46
    c-1.48,0.46-3.05-0.32-3.61-1.74c-0.49,0.24-0.97,0.5-1.43,0.78c0.88,1.24,0.68,2.97-0.51,3.96c-1.19,0.99-2.93,0.87-3.99-0.22
    c-0.35,0.39-0.68,0.8-0.99,1.22c1.29,0.81,1.76,2.5,1.03,3.87c-0.73,1.37-2.38,1.93-3.78,1.32c-0.18,0.51-0.33,1.03-0.47,1.55
    c1.51,0.26,2.58,1.63,2.44,3.18c-0.14,1.55-1.46,2.7-2.98,2.67c0.03,0.52,0.09,1.04,0.16,1.55c1.49-0.34,3.01,0.52,3.46,2.01
    c0.46,1.48-0.32,3.05-1.74,3.61c0.24,0.49,0.5,0.97,0.78,1.43c1.24-0.88,2.97-0.68,3.96,0.51c0.99,1.19,0.87,2.93-0.22,3.99
    c0.39,0.35,0.8,0.68,1.22,0.99c0.81-1.29,2.5-1.76,3.87-1.03c1.37,0.73,1.93,2.38,1.32,3.78c0.51,0.18,1.03,0.33,1.55,0.47
    c0.26-1.51,1.63-2.58,3.18-2.44c1.55,0.14,2.7,1.46,2.67,2.98c0.52-0.03,1.04-0.09,1.55-0.16c-0.34-1.49,0.52-3.01,2.01-3.46
    c1.48-0.46,3.05,0.32,3.61,1.74c0.49-0.24,0.97-0.5,1.43-0.78c-0.88-1.24-0.68-2.97,0.51-3.96c1.19-0.99,2.93-0.87,3.99,0.22
    c0.35-0.39,0.68-0.8,0.99-1.22c-1.29-0.81-1.76-2.5-1.03-3.87c0.73-1.37,2.38-1.93,3.78-1.32c0.18-0.51,0.33-1.03,0.47-1.55
    C112.45,165.32,111.37,163.94,111.51,162.4z M91.16,171.78c-3.7-1.46-6.41-4.73-7.17-8.63c-0.11-0.59,0.39-1.12,0.98-1.06l7.26,0.67
    c0.5,0.05,0.87,0.49,0.82,0.99l-0.67,7.26C92.32,171.61,91.71,172,91.16,171.78z M92.62,158.5l-7.26-0.67
    c-0.6-0.06-0.99-0.67-0.77-1.22c1.46-3.7,4.73-6.41,8.63-7.17c0.59-0.11,1.12,0.39,1.06,0.98l-0.67,7.26
    C93.57,158.18,93.12,158.55,92.62,158.5z M96.64,171.4l0.67-7.26c0.05-0.5,0.49-0.87,0.99-0.82l7.26,0.67
    c0.6,0.06,0.99,0.67,0.77,1.22c-1.46,3.7-4.73,6.41-8.63,7.17C97.11,172.5,96.58,172,96.64,171.4z M97.87,158.07l0.67-7.26
    c0.06-0.6,0.67-0.99,1.22-0.77c3.7,1.46,6.41,4.73,7.17,8.63c0.11,0.59-0.39,1.12-0.98,1.06l-7.26-0.67
    C98.2,159.02,97.83,158.57,97.87,158.07z"
            />
          </svg>
          <span>Support</span>
          <svg
            width="20"
            height="20"
            viewBox="0 0 13.229166 13.229166"
            version="1.1"
            id="svg5"
          >
            <path
              style="
                fill: currentColor;
                stroke: none;
                stroke-width: 1.66639;
                stroke-dasharray: none;
                stroke-opacity: 1;
              "
              d="m 1.124479,4.630208 h 10.980209 l -2.7014793,3.042708 -2.70148,3.042708 z"
              id="path5454"
            />
          </svg>
          <transition name="fadeFromAbove" mode="out-in">
            <ul class="btnList" v-if="showSupportDropDown">
              <li v-for="(support, index) in supports" :key="index">
                <button class="btn">{{ support }}</button>
              </li>
            </ul>
          </transition>
        </button>
      </div>

      <router-view v-slot="{ Component }">
        <transition name="fadeFromRight" mode="out-in">
          <component :is="Component"></component>
        </transition>
      </router-view>
    </div>
  </div>
</template>

<style></style>
